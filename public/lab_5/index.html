<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Lab 5 for Nate Pines</title>
  <link href="styles.css" rel="stylesheet">
</head>

<body> 
<header>
    <h1>Lab 5 for Nate Pines</h1>
</header>

<div class="container">
    <form action="/api" method="post">
      <ul class="flex-outer">
        <li>
          <label for="fname">First Name</label>
          <input type="text" id="fname" name="fname" placeholder="Enter your first name here" maxlength="140">
        </li>
        <li>
          <label for="lname">Last Name</label>
          <input type="text" id="lname" name="lname" placeholder="Enter your last name here" maxlength="140">
        </li>
        <li>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="Enter your email here">
        </li>
        <li>
          <label for="phone">Phone</label>
          <input type="tel" id="phone" name="phone" placeholder="Enter your phone here">
        </li>
        <li>
          <label for="message">Text Field </label>
          <textarea rows="5"  cols="33" id="message" name="message" placeholder="Enter your message here"></textarea>
        </li>
        <li>
          <p>Fruits</p>
          <ul class="flex-inner">
            <li>
              <input type="checkbox" id="kiwi" name="kiwi">
              <label for="kiwi">kiwi</label>
            </li>
            <li>
              <input type="checkbox" id="dragonfruit" name="dragonfruit">
              <label for="dragonfruit">dragonfruit</label>
            </li>
            <li>
              <input type="checkbox" id="pomelo" name="pomelo">
              <label for="pomelo">pomelo</label>
            </li>
          </ul>
        </li>
        <li>
          <button type="submit" name="button" id="button">SUBMIT FORM</button>
          <button onclick="testFunction()" type="button" name="activate" id="activate">ACTIVATE</button>
        </li>
      </ul>
    </form>
  </div>
  <script>
function testFunction() {
    fetch('/api')
    .then((response) => response.text())
    .then((response) => {
         console.log(response);

        const string=document.querySelector("h1")
        string.innerHTML=response;

        const title=document.querySelector("Title")
        title.innerHTML=response;

        const center=document.querySelector(".flex-outer")
        center.style.margin="0 auto"
    })
    document.body.style.backgroundcolor="#8c5ae9"

    const elem=document.querySelectorAll(".flex-inner li label")
    const fruit=["kiwi", "dragonfruit", "pomelo"]
    elem.forEach((el, i)=> {
        const text=el.innerText;
        el.innerText=fruit[i];
    })
    const 1b1= document.getElementById("age")
    1b1.innerHTML="Fruits";


}

  </script>
</body>
</html>
