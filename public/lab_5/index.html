<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Lab 4 for Nate Pines</title>
  <link href="styles.css" rel="stylesheet">
</head>

<body> 
<header>
    <h1>Lab 4 for Nate Pines</h1>
</header>

<div class="container">
    <form action="/api" method="post">
      <ul class="flex-outer">
        <li>
          <label for="fname">First Name</label>
          <input type="text" id="fname" name="fname" placeholder="Enter your first name here" maxlength="140">
        </li>
        <li>
          <label for="lname">Last Name</label>
          <input type="text" id="lname" name="lname" placeholder="Enter your last name here" maxlength="140">
        </li>
        <li>
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="Enter your email here">
        </li>
        <li>
          <label for="phone">Phone</label>
          <input type="tel" id="phone" name="phone" placeholder="Enter your phone here">
        </li>
        <li>
          <label for="message">Text Field </label>
          <textarea rows="5"  cols="33" id="message" name="message" placeholder="Enter your message here"></textarea>
        </li>
        <li>
          <p class=".checkbox-list-label" id="change">Age</p>
          <ul class="flex-inner">
            <li>
                <input type="checkbox" id="eighteen-to-thirtyfive" name="eighteen-to-thirtyfive">
                <label for="eighteen-to-thirtyfive">18-35</label>
              </li>
              <li>
                <input type="checkbox" id="thirtyfive-to-fifty" name="thirtyfive-to-fifty">
                <label for="thirtyfive-to-fifty">35-50</label>
              </li>
              <li>
                <input type="checkbox" id="fifty-to-sixtyfive" name="fifty-to-sixtyfive">
                <label for="fifty-to-sixtyfive">50-65</label>
            </li>
          </ul>
        </li>
        <li>
          <button type="submit" name="button" id="button">SUBMIT FORM</button>
          <button onclick="testFunction()" type="button" name="activate" id="activate">Activate</button>
        </li>
      </ul>
    </form>
  </div>
  <script>
function testFunction() {
    fetch('/api')
    .then((response) => response.text())
    .then((response) => {
        console.log(response);

        const title=document.querySelector("title")
        title.innerHTML=response;

        const flexouter=document.querySelector(".flex-outer")
        flexouter.style.margin="0 auto"

        const header=document.querySelector("h1")
        header.innerHTML=response;

    })
    document.body.style.background="#D6B64C";

    const label=document.querySelectorAll(".flex-inner li label")
    const fruits=["apple", "pear", "plum"]
    label.forEach((el, i)=> {
        const text=el.innerText;
        el.innerText=fruits[i];
    })
    const age= document.getElementById('change')
    age.innerHTML="Fruits";
}
  </script>
</body>
</html>
